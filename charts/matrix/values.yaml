matrix-stack:
  # Matrix server configuration
  matrix:
    serverName: "cluster.diluz.io"
    hostname: "matrix.cluster.diluz.io"

    ingress:
      enabled: false

    persistence:
      enabled: true
      size: 5Gi
      storageClassName: longhorn

    resources:
      requests:
        cpu: 1000m
        memory: 2Gi
      limits:
        memory: 4Gi

  # Element Web configuration
  element:
    enabled: true
    hostname: "element.cluster.diluz.io"

    ingress:
      enabled: false

  # Element Admin configuration
  elementAdmin:
    enabled: true
    hostname: "admin.cluster.diluz.io"

    ingress:
      enabled: false

  # Matrix Authentication Service
  matrixAuthenticationService:
    enabled: true
    hostname: "auth-matrix.cluster.diluz.io"

    ingress:
      enabled: false

  # Matrix RTC Backend (for Element Call)
  matrixRtc:
    enabled: true
    hostname: "rtc.cluster.diluz.io"

    ingress:
      enabled: false

  # Well-known delegation
  wellKnown:
    enabled: true
    hostname: "cluster.diluz.io"

    ingress:
      enabled: false

  # PostgreSQL configuration
  postgresql:
    enabled: true
    auth:
      database: synapse
      username: synapse
      # Password will be auto-generated
    primary:
      persistence:
        enabled: true
        size: 5Gi
        storageClassName: longhorn
      resources:
        requests:
          cpu: 100m
          memory: 256Mi
        limits:
          memory: 1Gi
