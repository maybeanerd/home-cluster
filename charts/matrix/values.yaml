# yaml-language-server: $schema=https://raw.githubusercontent.com/element-hq/ess-helm/main/charts/matrix-stack/values.schema.json
matrix-stack:
  # Global server name for Matrix federation
  serverName: "cluster.diluz.io"

  # Synapse homeserver configuration
  synapse:
    enabled: true

    media:
      storage:
        size: 5Gi
        storageClassName: longhorn

    resources:
      requests:
        cpu: 1000m
        memory: 2Gi
      limits:
        memory: 4Gi

  # Element Web client
  elementWeb:
    enabled: true

  # Element Admin interface
  elementAdmin:
    enabled: true

  # Matrix Authentication Service
  matrixAuthenticationService:
    enabled: true

  # Matrix RTC Backend (for Element Call)
  matrixRTC:
    enabled: true

  # Well-known delegation for federation
  wellKnownDelegation:
    enabled: true

  # PostgreSQL database
  postgres:
    enabled: true

    storage:
      size: 5Gi
      storageClassName: longhorn

    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        memory: 1Gi
