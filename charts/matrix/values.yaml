matrix-stack:
  serverName: "cluster.diluz.io"

  # Synapse server configuration
  synapse:
    persistence:
      enabled: true
      size: 5Gi
      storageClassName: longhorn

    resources:
      requests:
        cpu: 1000m
        memory: 2Gi
      limits:
        memory: 4Gi

  # Element Web configuration
  element:
    enabled: true
    ingress:
      host: "element.cluster.diluz.io"

  # Element Admin configuration
  elementAdmin:
    enabled: true
    ingress:
      host: "admin-matrix.cluster.diluz.io"
  # Matrix Authentication Service
  matrixAuthenticationService:
    enabled: true
    ingress:
      host: "auth-matrix.cluster.diluz.io"
  # Matrix RTC Backend (for Element Call)
  matrixRtc:
    enabled: true
    ingress:
      host: "rtc-matrix.cluster.diluz.io"
  # Well-known delegation
  wellKnown:
    enabled: true

  # PostgreSQL configuration
  postgresql:
    enabled: true
    auth:
      database: synapse
      username: synapse
      # Password will be auto-generated
    primary:
      persistence:
        enabled: true
        size: 5Gi
        storageClassName: longhorn
      resources:
        requests:
          cpu: 100m
          memory: 256Mi
        limits:
          memory: 1Gi
